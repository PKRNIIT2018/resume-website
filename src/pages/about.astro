---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { resumeData } from "../data/resumeData";

// Helper to render markdown bolding in HTML
const formatBold = (text: string) =>
  text.replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>");
---

<BaseLayout
  title="About Me - Prasanth Kunnumal Ramesh, PMP® | Product Owner & Technical Business Analyst"
  description="Learn more about my 20+ years of IT expertise, certifications, and professional journey from Microsoft Certified Trainer to Product Owner at IBM."
>
  <Header />

  <main>
    <!-- Hero Section -->
    <section class="page-hero">
      <div class="container">
        <h1>About Me</h1>
        <p class="lead">
          {resumeData.personalInfo.title} @ IBM | Agile Leader | {
            resumeData.hero.highlightLine
          }
        </p>
      </div>
    </section>

    <!-- Professional Summary -->
    <section class="section">
      <div class="container">
        <div class="content-grid">
          <div class="main-content">
            <h2>Executive Summary</h2>
            <p set:html={formatBold(resumeData.executiveSummary)} />
            <p>
              I don’t just manage requirements; I leverage the latest AI
              innovations to ensure they are secure, efficient, and ready for
              production.
            </p>
          </div>
          <div class="sidebar">
            <div class="info-card">
              <h3>Quick Info</h3>
              <ul class="info-list">
                <li><strong>Location:</strong> Pezinok, Slovakia</li>
                <li><strong>Experience:</strong> 20+ Years</li>
                <li>
                  <strong>Phone:</strong>
                  <a href="tel:+421944016820">+421 944 016 820</a>
                </li>
                <li>
                  <strong>Email:</strong>
                  <a href="mailto:prasanth.k.ramesh@gmail.com"
                    >prasanth.k.ramesh@gmail.com</a
                  >
                </li>
                <li>
                  <strong>LinkedIn:</strong>
                  <a href="https://linkedin.com/in/prasanthkr" target="_blank"
                    >prasanthkr</a
                  >
                </li>
                <li>
                  <strong>Status:</strong>
                  <span class="status-badge">Open to Opportunities</span>
                </li>
              </ul>
              <button id="downloadResumeBtn" class="btn btn-primary full-width">
                Download Resume
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Skills Section -->
    <section class="section bg-surface">
      <div class="container">
        <h2 class="section-title">Core Competencies & Skills</h2>
        <div class="skills-container">
          {
            resumeData.skills.map((category) => (
              <div class="skill-category">
                <h3>{category.category}</h3>
                <div class="skills-list">
                  {category.items.map((skill) => (
                    <span class="badge">{skill}</span>
                  ))}
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Experience Section -->
    <section class="section">
      <div class="container">
        <h2 class="section-title">Professional Experience</h2>
        <div class="timeline">
          {
            resumeData.experience.map((exp: any) => (
              <div class="timeline-item">
                <div class="timeline-marker" />
                <div class="timeline-content">
                  <div class="timeline-header">
                    <h3>{exp.role}</h3>
                    <span class="timeline-date">{exp.period}</span>
                  </div>
                  <p class="company">
                    {exp.company} | {exp.location}
                  </p>
                  {exp.description && (
                    <p
                      class="description"
                      set:html={formatBold(exp.description)}
                    />
                  )}
                  <ul class="achievements">
                    {exp.achievements.map((ach: any) =>
                      typeof ach === "string" ? (
                        <li set:html={formatBold(ach)} />
                      ) : (
                        <li class="ai-highlight">
                          <strong>{ach.title}</strong>
                          <ul>
                            {ach.items.map((item: string) => (
                              <li set:html={formatBold(item)} />
                            ))}
                          </ul>
                        </li>
                      ),
                    )}
                  </ul>
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Certifications Section -->
    <section class="section bg-surface">
      <div class="container">
        <h2 class="section-title">Licenses & Certifications</h2>
        <div class="certifications-grid">
          {
            resumeData.certifications.map((cert) => {
              const [title, rest] = cert.split(" – ");
              return (
                <div class="cert-card card">
                  <h4>{title}</h4>
                  {rest && <p class="cert-issuer">{rest}</p>}
                  <p class="cert-date">Certified</p>
                </div>
              );
            })
          }
        </div>
      </div>
    </section>

    <!-- Professional Endorsements -->
    <section class="section">
      <div class="container">
        <h2 class="section-title">Professional Endorsements</h2>
        <div class="endorsements-grid">
          <div class="endorsement-card card">
            <h4>"The Solution Finder"</h4>
            <p>
              Colleagues describe Prasanth as an "honest employee with boundless
              energy" who focuses on solutions instead of problems. His positive
              attitude and problem-solving approach make him an invaluable team
              member.
            </p>
          </div>
          <div class="endorsement-card card">
            <h4>"The Expert Mentor"</h4>
            <p>
              Former students and clients highlight his unique ability to
              explain "difficult issues in a simple, understandable way," noting
              his dedication to individual growth and professional success.
            </p>
          </div>
          <div class="endorsement-card card">
            <h4>"The Disciplined Leader"</h4>
            <p>
              Managers recognize him as "highly talented, dynamic, and very
              accurate," with a proven ability to multitask across roles like
              Training Manager, Exam In-charge, and Technical Coordinator.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Volunteering & Leadership -->
    <section class="section">
      <div class="container">
        <h2 class="section-title">Volunteering & Leadership</h2>
        <div class="activities-grid">
          <div class="activity-card card">
            <h4>Toastmasters International</h4>
            <p class="activity-role">
              Competent Communicator (CC) & Competent Leader (CL)
            </p>
            <p class="activity-description">
              Actively participated in Toastmasters to refine public speaking
              and leadership, eventually achieving the status of Competent
              Communicator and Competent Leader.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="section cta-section">
      <div class="container">
        <div class="cta-content">
          <h2>Let's Connect</h2>
          <p>
            I'm always interested in discussing new opportunities,
            collaborations, or just connecting with fellow professionals.
          </p>
          <div class="cta-actions">
            <a href="/contact" class="btn btn-primary">Get In Touch</a>
            <a
              href="https://linkedin.com/in/prasanthkr"
              target="_blank"
              class="btn btn-secondary">LinkedIn Profile</a
            >
          </div>
        </div>
      </div>
    </section>
  </main>

  <Footer />

  <script>
    import { generateDynamicResumePDF } from "../utils/pdfGenerator";

    const downloadBtn = document.getElementById("downloadResumeBtn");
    if (downloadBtn) {
      downloadBtn.addEventListener("click", () => {
        generateDynamicResumePDF();
      });
    }
  </script>
</BaseLayout>

<style>
  /* Page Hero */
  .page-hero {
    padding: var(--space-8) 0 var(--space-6);
    background: linear-gradient(135deg, var(--surface) 0%, white 100%);
    text-align: center;
  }

  .page-hero h1 {
    font-size: var(--text-5xl);
    margin-bottom: var(--space-2);
  }

  .lead {
    font-size: var(--text-xl);
    color: var(--text-light);
    max-width: 700px;
    margin: 0 auto;
  }

  /* Content Grid */
  .content-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--space-6);
    align-items: start;
  }

  .main-content h2 {
    font-size: var(--text-3xl);
    margin-bottom: var(--space-4);
  }

  .main-content p {
    margin-bottom: var(--space-3);
    line-height: var(--leading-relaxed);
  }

  /* Sidebar */
  .info-card {
    background: white;
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    box-shadow: var(--shadow-md);
    position: sticky;
    top: calc(var(--header-height) + var(--space-4));
  }

  .info-card h3 {
    font-size: var(--text-xl);
    margin-bottom: var(--space-3);
  }

  .info-list {
    list-style: none;
    margin: 0 0 var(--space-4) 0;
    padding: 0;
  }

  .info-list li {
    padding: var(--space-2) 0;
    border-bottom: 1px solid var(--border);
  }

  .info-list li:last-child {
    border-bottom: none;
  }

  .status-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    background-color: var(--success);
    color: white;
    border-radius: var(--radius-full);
    font-size: var(--text-sm);
    font-weight: 600;
  }

  .full-width {
    width: 100%;
  }

  /* Section Title */
  .section-title {
    font-size: var(--text-4xl);
    text-align: center;
    margin-bottom: var(--space-6);
  }

  /* Skills */
  .skills-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-6);
  }

  .skill-category h3 {
    font-size: var(--text-xl);
    margin-bottom: var(--space-3);
  }

  .skills-list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  /* Timeline */
  .timeline {
    position: relative;
    padding-left: var(--space-6);
  }

  .timeline::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: var(--border);
  }

  .timeline-item {
    position: relative;
    margin-bottom: var(--space-6);
  }

  .timeline-item:last-child {
    margin-bottom: 0;
  }

  .timeline-marker {
    position: absolute;
    left: calc(-1 * var(--space-6) - 6px);
    top: 0;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background-color: var(--primary);
    border: 3px solid white;
    box-shadow: 0 0 0 2px var(--primary);
  }

  .timeline-content {
    background: white;
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    box-shadow: var(--shadow-md);
  }

  .timeline-header {
    display: flex;
    justify-content: space-between;
    align-items: start;
    margin-bottom: var(--space-2);
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .timeline-header h3 {
    font-size: var(--text-2xl);
    margin: 0;
  }

  .timeline-date {
    color: var(--text-light);
    font-weight: 600;
    font-size: var(--text-sm);
  }

  .company {
    color: var(--primary);
    font-weight: 600;
    margin-bottom: var(--space-3);
  }

  .achievements {
    margin-bottom: var(--space-3);
    padding-left: var(--space-4);
  }

  .achievements li {
    margin-bottom: var(--space-2);
    line-height: var(--leading-relaxed);
  }

  .tech-stack {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-1);
  }

  /* Certifications */
  .certifications-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-4);
  }

  .cert-card {
    text-align: center;
    padding: var(--space-4);
  }

  .cert-card h4 {
    font-size: var(--text-lg);
    margin-bottom: var(--space-2);
    min-height: 3rem;
  }

  .cert-issuer {
    color: var(--text-light);
    margin-bottom: var(--space-1);
    font-size: var(--text-sm);
  }

  .cert-id {
    color: var(--text-light);
    font-size: var(--text-sm);
    margin-bottom: var(--space-1);
  }

  .cert-date {
    color: var(--primary);
    font-weight: 600;
  }

  /* Endorsements */
  .endorsements-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-4);
    max-width: 1200px;
    margin: 0 auto;
  }

  .endorsement-card {
    padding: var(--space-5);
  }

  .endorsement-card h4 {
    color: var(--primary);
    font-size: var(--text-xl);
    margin-bottom: var(--space-3);
  }

  .endorsement-card p {
    line-height: var(--leading-relaxed);
    color: var(--text-light);
  }

  /* Activities */
  .activities-grid {
    max-width: 800px;
    margin: 0 auto;
  }

  .activity-card {
    padding: var(--space-5);
  }

  .activity-card h4 {
    font-size: var(--text-2xl);
    margin-bottom: var(--space-2);
  }

  .activity-role {
    color: var(--primary);
    font-weight: 600;
    margin-bottom: var(--space-2);
  }

  .activity-description {
    line-height: var(--leading-relaxed);
    color: var(--text-light);
  }

  /* CTA Section */
  .cta-section {
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white;
  }

  .cta-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .cta-content h2 {
    color: white;
    font-size: var(--text-4xl);
    margin-bottom: var(--space-3);
  }

  .cta-content p {
    font-size: var(--text-lg);
    margin-bottom: var(--space-5);
    opacity: 0.95;
  }

  .cta-actions {
    display: flex;
    gap: var(--space-3);
    justify-content: center;
    flex-wrap: wrap;
  }

  .cta-content .btn-primary {
    background-color: white;
    color: var(--primary);
  }

  .cta-content .btn-primary:hover {
    background-color: var(--surface);
  }

  .cta-content .btn-secondary {
    background-color: transparent;
    color: white;
    border: 2px solid white;
  }

  .cta-content .btn-secondary:hover {
    background-color: rgba(255, 255, 255, 0.1);
  }

  /* Responsive Design */
  @media (max-width: 1024px) {
    .content-grid {
      grid-template-columns: 1fr;
    }

    .info-card {
      position: static;
    }

    .skills-container {
      grid-template-columns: 1fr;
    }

    .certifications-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .endorsements-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 768px) {
    .page-hero h1 {
      font-size: var(--text-4xl);
    }

    .timeline {
      padding-left: var(--space-4);
    }

    .timeline-marker {
      left: calc(-1 * var(--space-4) - 6px);
    }

    .certifications-grid {
      grid-template-columns: 1fr;
    }

    .cta-actions {
      flex-direction: column;
      width: 100%;
    }

    .cta-actions .btn {
      width: 100%;
    }
  }
</style>
